# DetailPanel ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

> í•„ì§€/ê³µì¥/ì‚°ì—…ë‹¨ì§€ ìƒì„¸ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì¢Œì¸¡ ì‚¬ì´ë“œ íŒ¨ë„

## ê°œìš”

`components/panel/DetailPanel.tsx`ëŠ” ì‚¬ìš©ìê°€ ì§€ë„ì—ì„œ ë§ˆì»¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ í•´ë‹¹ í•­ëª©ì˜ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” Drawer ê¸°ë°˜ ì‚¬ì´ë“œíŒ¨ë„ì…ë‹ˆë‹¤.

## ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DetailPanel                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  â”Œâ”€ Zustand Store â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ useSelectionState()                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ selectedParcel: ParcelDetail | null     â”‚   â”‚
â”‚  â”‚  â”œâ”€ selectedFactory: Factory | null         â”‚   â”‚
â”‚  â”‚  â””â”€ selectedComplex: IndustrialComplexDetailâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                          â”‚
â”‚                          â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ì¡°ê±´ë¶€ ë Œë”ë§ (ìš°ì„ ìˆœìœ„)                    â”‚   â”‚
â”‚  â”‚  1. selectedFactory â†’ ê³µì¥ ì •ë³´ íŒ¨ë„        â”‚   â”‚
â”‚  â”‚  2. selectedComplex â†’ ì‚°ì—…ë‹¨ì§€ ì •ë³´ íŒ¨ë„    â”‚   â”‚
â”‚  â”‚  3. selectedParcel â†’ í•„ì§€ ì •ë³´ íŒ¨ë„         â”‚   â”‚
â”‚  â”‚  4. ì—†ìœ¼ë©´ â†’ null (íŒ¨ë„ ë‹«í˜)               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### 1. ê³µì¥ ì •ë³´ íŒ¨ë„ (Factory Panel)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ­ [ê³µì¥ëª…]                         â”‚
â”‚ [ì£¼ì†Œ]                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê¸°ë³¸ ì •ë³´                           â”‚
â”‚ â”œâ”€ ì—…ì¢…: [industry]                 â”‚
â”‚ â””â”€ ì¢…ì—…ì› ìˆ˜: [employees]ëª…         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë©´ì  ì •ë³´                           â”‚
â”‚ â”œâ”€ ìš©ì§€ë©´ì : [area]ã¡               â”‚
â”‚ â””â”€ ê±´ì¶•ë©´ì : [buildingArea]ã¡       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ì‚°ì—…ë‹¨ì§€ ì •ë³´ íŒ¨ë„ (Complex Panel)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ­ [ì‚°ì—…ë‹¨ì§€ëª…]                     â”‚
â”‚ [ìœ í˜• Badge]                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê¸°ë³¸ ì •ë³´                           â”‚
â”‚ â”œâ”€ ë©´ì : [area]ã¡ ([í‰]í‰)          â”‚
â”‚ â””â”€ ìš´ì˜ìƒíƒœ: [status]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. í•„ì§€ ì •ë³´ íŒ¨ë„ (Parcel Panel)

ê°€ì¥ ë³µì¡í•œ íŒ¨ë„ë¡œ, íƒ­ ê¸°ë°˜ UIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•„ì§€ ìƒì„¸ì •ë³´                          [X]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              ì½˜í…ì¸  ì˜ì—­                   â”‚  â”‚
â”‚  â”‚  (ë©”ì¸íƒ­ì— ë”°ë¼ ë³€ê²½ë¨)                   â”‚  â”‚
â”‚  â”‚                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ mainTab='basic' ì¼ ë•Œ:              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ ì‹¤ê±°ë˜ê°€ â”‚ í† ì§€ì •ë³´ â”‚  (ì„œë¸Œíƒ­) â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  [ì„ íƒëœ ì„œë¸Œíƒ­ ì½˜í…ì¸ ]             â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                           â”‚  â”‚
â”‚  â”‚  mainTab='listing' â†’ ë§¤ë¬¼ ì •ë³´           â”‚  â”‚
â”‚  â”‚  mainTab='factory' â†’ ì…ì£¼ê¸°ì—… ëª©ë¡       â”‚  â”‚
â”‚  â”‚  mainTab='auction' â†’ ê²½ë§¤ ì •ë³´           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ ğŸ    â”‚ ğŸ·ï¸   â”‚ ğŸ­   â”‚ ğŸ”¨   â”‚  (í•˜ë‹¨ ë„¤ë¹„)    â”‚
â”‚  â”‚ê¸°ë³¸  â”‚ë§¤ë¬¼  â”‚ì…ì£¼  â”‚ê²½ë§¤  â”‚                 â”‚
â”‚  â”‚ì •ë³´  â”‚      â”‚ê¸°ì—…  â”‚      â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚  * í•´ë‹¹ ë°ì´í„°ê°€ ìˆëŠ” íƒ­ë§Œ í‘œì‹œ                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ìƒíƒœ ê´€ë¦¬

### ë¡œì»¬ ìƒíƒœ

```typescript
const [mainTab, setMainTab] = useState<string>('basic');
const [basicSubTab, setBasicSubTab] = useState<string>('transaction');
```

| ìƒíƒœ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `mainTab` | `'basic' \| 'listing' \| 'factory' \| 'auction'` | í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ì„ íƒ |
| `basicSubTab` | `'transaction' \| 'land'` | ê¸°ë³¸ì •ë³´ ë‚´ ì„œë¸Œíƒ­ |

### ì „ì—­ ìƒíƒœ (Zustand)

```typescript
const { selectedParcel, selectedComplex, selectedFactory } = useSelectionState();
const clearAllSelections = useClearAllSelections();
```

- `useSelectionState()`: shallow ë¹„êµë¡œ ìµœì í™”ëœ ì„ íƒ ìƒíƒœ ì…€ë ‰í„°
- `useClearAllSelections()`: ëª¨ë“  ì„ íƒ í•´ì œ í•¨ìˆ˜

## íƒ­ êµ¬ì¡° ìƒì„¸

### ë©”ì¸ íƒ­

| íƒ­ ID | ì•„ì´ì½˜ | í‘œì‹œ ì¡°ê±´ | í™œì„± ìƒ‰ìƒ |
|-------|--------|-----------|-----------|
| `basic` | IconHome | í•­ìƒ | `#228be6` (íŒŒë‘) |
| `listing` | IconTag | `hasListing` | `#40c057` (ë…¹ìƒ‰) |
| `factory` | IconBuildingFactory | `hasFactory` | `#ff6b35` (ì£¼í™©) |
| `auction` | IconGavel | `hasAuction` | `#fa5252` (ë¹¨ê°•) |

### ê¸°ë³¸ì •ë³´ ì„œë¸Œíƒ­

| ì„œë¸Œíƒ­ ID | ì½˜í…ì¸  |
|-----------|--------|
| `transaction` | ìµœì‹  ì‹¤ê±°ë˜ê°€ + ê±°ë˜ ì´ë ¥ |
| `land` | ì£¼ì†Œ, PNU, ë©´ì , ìš©ë„ì§€ì—­, ê³µì‹œì§€ê°€ |

## ë°ì´í„° í‘œì‹œ í•„ë“œ

### ì‹¤ê±°ë˜ê°€ íƒ­ (transaction)

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `transactionPrice` | number | ìµœì‹  ì‹¤ê±°ë˜ê°€ (ë§Œì›) |
| `transactionDate` | string | ê±°ë˜ì¼ |
| `transactions` | Transaction[] | ê±°ë˜ ì´ë ¥ ë°°ì—´ |
| `transactions[].date` | string | ê°œë³„ ê±°ë˜ì¼ |
| `transactions[].price` | number | ê°œë³„ ê±°ë˜ê°€ |
| `transactions[].dealType` | string | ê±°ë˜ìœ í˜• |

### í† ì§€ì •ë³´ íƒ­ (land)

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `roadAddress` | string | ë„ë¡œëª…ì£¼ì†Œ |
| `address` / `jibun` | string | ì§€ë²ˆì£¼ì†Œ |
| `pnu` | string | í•„ì§€ê³ ìœ ë²ˆí˜¸ (19ìë¦¬) |
| `area` | number | í† ì§€ ë©´ì  (ã¡) |
| `landUseType` | string | ìš©ë„ì§€ì—­ |
| `officialLandPrice` | number | ê³µì‹œì§€ê°€ (ì›/ã¡) |

### ë§¤ë¬¼ íƒ­ (listing)

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `listingPrice` | number | ë§¤ë¬¼ê°€ (ë§Œì›) |

### ì…ì£¼ê¸°ì—… íƒ­ (factory)

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `factories` | Factory[] | ì…ì£¼ ê¸°ì—… ëª©ë¡ |
| `factories[].name` | string | ê¸°ì—…ëª… |
| `factories[].industry` | string | ì—…ì¢… |
| `factories[].employees` | number | ì¢…ì—…ì› ìˆ˜ |
| `factories[].area` | number | ìš©ì§€ë©´ì  |

### ê²½ë§¤ íƒ­ (auction)

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `auctionPrice` | number | ê²½ë§¤ê°€ (ë§Œì›) |
| `auctionFailCount` | number | ìœ ì°° íšŸìˆ˜ |

## ìŠ¤íƒ€ì¼ ê°€ì´ë“œ

### Drawer ì„¤ì •

```typescript
<Drawer
    position="left"           // ì¢Œì¸¡ì—ì„œ ìŠ¬ë¼ì´ë“œ
    size="420px"              // í•„ì§€: 420px, ê³µì¥/ì‚°ì—…ë‹¨ì§€: 400px
    withOverlay={false}       // ì˜¤ë²„ë ˆì´ ë¹„í™œì„± (ì§€ë„ ì¡°ì‘ ê°€ëŠ¥)
    lockScroll={false}        // ìŠ¤í¬ë¡¤ ì ê¸ˆ í•´ì œ
    trapFocus={false}         // í¬ì»¤ìŠ¤ íŠ¸ë© í•´ì œ
    zIndex={10010}            // ì§€ë„ UI ìœ„ì— í‘œì‹œ
/>
```

### ê°€ê²© í‘œì‹œ ì¹´ë“œ

```typescript
// ì‹¤ê±°ë˜ê°€ (íŒŒë‘)
{ background: '#e7f5ff', color: 'blue' }

// ë§¤ë¬¼ê°€ (ë…¹ìƒ‰)
{ background: '#e7f5ff', color: 'green' }

// ê²½ë§¤ê°€ (ë¹¨ê°•)
{ background: '#fff5f5', color: 'red' }
```

### í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜

```typescript
{
    position: 'sticky',
    bottom: 0,
    height: '70px',
    backgroundColor: 'white',
    borderTop: '1px solid #e9ecef',
}
```

## ì‚¬ìš© ì˜ˆì‹œ

### HTMLMarkerLayerì—ì„œ ì„ íƒ ì²˜ë¦¬

```typescript
// components/map/naver/HTMLMarkerLayer.tsx
const handleParcelClick = useCallback(async (pnu: string) => {
    const detail = await loadParcelDetail(pnu);
    if (detail) {
        setSelectedParcel(detail);  // DetailPanel ì—´ë¦¼
    }
}, [setSelectedParcel]);
```

### ì•±ì—ì„œ DetailPanel ì‚¬ìš©

```typescript
// app/page.tsx
import dynamic from 'next/dynamic';

const DetailPanel = dynamic(
    () => import('@/components/panel/DetailPanel'),
    { ssr: false }
);

export default function HomePage() {
    return (
        <main>
            <NaverMap />
            <DetailPanel />  {/* í•­ìƒ ë Œë”ë§, ì„ íƒ ì‹œ í‘œì‹œ */}
        </main>
    );
}
```

## ì˜ì¡´ì„±

- `@mantine/core`: Drawer, Stack, Tabs, Badge, Group, Text, Divider, Box, UnstyledButton
- `@tabler/icons-react`: IconHome, IconTag, IconGavel, IconBuildingFactory
- `@/lib/store`: useSelectionState, useClearAllSelections
- `@/types/data`: ParcelDetail, Factory, IndustrialComplexDetail

## í™•ì¥ í¬ì¸íŠ¸

### ìƒˆ íƒ­ ì¶”ê°€í•˜ê¸°

1. `hasNewData` ì¡°ê±´ ë³€ìˆ˜ ì¶”ê°€
2. í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ì— ë²„íŠ¼ ì¶”ê°€
3. `mainTab === 'new'` ì¡°ê±´ìœ¼ë¡œ ì½˜í…ì¸  ë Œë”ë§

### ê³µì¥/ì‚°ì—…ë‹¨ì§€ íŒ¨ë„ í™•ì¥

í˜„ì¬ ê°„ë‹¨í•œ êµ¬ì¡°ì´ë¯€ë¡œ, í•„ì§€ íŒ¨ë„ì²˜ëŸ¼ íƒ­ êµ¬ì¡°ë¡œ í™•ì¥ ê°€ëŠ¥:

```typescript
if (selectedFactory) {
    return (
        <Drawer ...>
            <Tabs>
                <Tabs.Tab value="info">ê¸°ë³¸ì •ë³´</Tabs.Tab>
                <Tabs.Tab value="contact">ì—°ë½ì²˜</Tabs.Tab>
            </Tabs>
            ...
        </Drawer>
    );
}
```
